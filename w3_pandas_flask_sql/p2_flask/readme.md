

## Домашнее задание No4

### Flask

Разработать интерфейс RESTful API на основе Flask. Интерфейс должен поддерживать методы для поиска фильма по id, по названию и по году выхода, а также выдачу рекомендаций по запросу пользователя.


### Описание Состава проекта


- 2020.JDS.Homework.04.pdf - ТЗ по выполнению домашнего задания
- links. Папка с полезными ссылками и документами
- dbase. Папка с набором инструкций для создания Docker контейнера БД imdb.
- flask_app. Папка с набором инструкций для создания Docker контейнера для web приложения по обработке запросов к БД imdb.
- tests. Папка с тестами работы  контейнеров dbase и flask_app





### Инструкция по работе с тестовой платформой imdb_app.

Тестовый экземпляр сервиса был развернут по адресу http://138.197.176.123:5000/

Возможные сценарии работы:

##### 1. Получение идентификаторов фильмов, удовлетворяющих одному из условий:

- tconst - идентификатор фильма (строковое значение вида tt0259324).  
- titletype - тип фильма (строковое значение),
- primarytitle - название фильма (строковое значение),
- originaltitle - оригинальное название фильма (строковое значение),
- isadult - метка фильма с возрастными ограничениями ( значения True/False),
- startyear - год выхода произведения (значение вида 1984),
- endyear - год окончания показа, если оно было многосерийное  (значение вида 1984),
- runtimeminutes - длительность (значение в минутах),
- genres - список жанров (строковое значение, перечисление через запятую)

Ответ сервиса будет содержать идентификаторы фильмов, либо пустую страницу со статусом 404 в случае его отсутствия. Также возможно ограничение  количества выдачи - по умолчанию установлено значение 10.

Пример запроса :

`http://138.197.176.123:5000/isadult/True&lim=10`

здесь 138.197.176.123:5000 - адрес и порт подключения к сервису, isadult - параметр для фильтрации,  True - значение параметра, &lim=10 - ограничение количества выдачи(10, опциональный параметр, может отсутствовать)


Сервис формирует ответ в формате json. Пример ответа сервиса:

```yaml
{
"movies":[
                        "tt0060313",
                        "tt0061926",
                        "tt0062361",
                        "tt0062417",
                        "tt0062727",
                        "tt0063118",
                        "tt0063176",
                        "tt0063631",
                        "tt0064057",
                        "tt0064929"
    ]
}
```

##### 2. Запрос списка рекомендованных фильмов.
Для получения идентификаторов рекомендуемых фильмов требуется сформировать POST-запрос вида:

```yaml
 {"likes": {"tt0000001": 0.6,
            "tt0000002": 0.8,
            "tt00000010": 0
           }
 }
```
по адресу:

`http://138.197.176.123:5000/suggest/top_k`  

где top_k должно быть целым положительным числом, обозначающим требуемое количество рекомендуемых фильмов.Ответ сервиса будет содержать идентификаторы фильмов, либо пустую страницу со статусом 404 в случае его отсутствия.


Сервис формирует ответ в формате json. Пример ответа сервиса:

```yaml
{
    "ratings":[
                        "tt0367882",
                        "tt0120755",
                        "tt0489099",
                        "tt0413267",
                        "tt1735898",
                        "tt0338526",
                        "tt1464540",
                        "tt1234721",
                        "tt2126355",
                        "tt0246460"
    ]
}
```


 
#### TODO





